var Ee=Object.defineProperty;var De=(o,t,a)=>t in o?Ee(o,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[t]=a;var g=(o,t,a)=>(De(o,typeof t!="symbol"?t+"":t,a),a);import{k as Se,r as K,d as H,a as J,c as G,w as Ie,o as c,b as d,n as W,u as l,h as O,e as ue,f as n,g as w,i as $,T as E,j as h,t as _,l as T,m as ae,p as U,q as N,s as Z,F as I,v as q,x as Y,y as Ae,z as Ge,A as Oe}from"./vendor.a1581d15.js";const Ue=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const p of r)if(p.type==="childList")for(const f of p.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function a(r){const p={};return r.integrity&&(p.integrity=r.integrity),r.referrerpolicy&&(p.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?p.credentials="include":r.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function i(r){if(r.ep)return;r.ep=!0;const p=a(r);fetch(r.href,p)}};Ue();const e=Se({width:window.innerWidth,height:window.innerHeight,crisp:!0,global:!1,stretch:!0,debug:!1,canvas:document.querySelector("canvas"),background:[32,31,53]});e.ready(()=>{e.focus(),j("onboarding"),ut({name:"Axe",spriteName:"axe",power:1,effective:["tree"]}),dt(0)});var Ne=o=>[qe(o)];function qe(o){let t=!1;return{id:"extractable",require:["area","pos","opacity"],extractableHealth:0,config:o,add(){this.extractableHealth=o.health},update(){const a=e.get("player")[0];if(!!a&&!!a.isExtracting&&this.isColliding(a.tool)){if(t)return;const i=we();if(!i)return;if(i.effective.includes(o.type)?this.extractableHealth-=i.power*2*(e.dt()*150):this.extractableHealth-=i.power*.5*(e.dt()*150),this.opacity=this.extractableHealth/o.health,t=!0,e.wait(.1,()=>{t=!1}),this.extractableHealth<=0){const r=s.persistent.resources[o.gives];s.persistent.resources[o.gives]=r?r+o.value:o.value,e.play("wood"+Math.round(e.rand(1,5))),this.destroy(),ht("survival","Extract Resources")}}}}}const Le=(o,t,a="ogg")=>{[...Array(t)].forEach((i,r)=>{e.loadSound(`${o}${r+1}`,`audio/${o}${r+1}.${a}`)})};Le("wood",5);var Ce=(o,t)=>[e.sprite(o),e.pos(t.x,t.y),e.solid(),e.area(),e.origin("center"),Me(),o,{buildingName:o},"building","collideable"];function Me(o){return{id:"building"}}e.loadSprite("shelter","buildings/shelter.png");e.loadSprite("oxygen_tank","buildings/oxygen_tank.png");e.loadSprite("nuclear_generator","buildings/nuclear_generator.png");e.loadSprite("communications","buildings/communications.png");const ee={shelter:null,nuclear_generator:{uranium:1},communications:{metal:5},oxygen_tank:{metal:20,wood:30}};function Be(o){const t=e.get("preview")[0],a=e.get("shelter")[0];if(!t||We(t)||t.pos.x<0||t.pos.y<0||t.pos.x>3600||t.pos.y>2e3)return[!1,"There is not enough room to build this here."];if(s.scene!=="planet")return[!1,"You cannot build inside here!"];if(o==="shelter")return a!==void 0?[!1,"You can only have one shelter!"]:[!0];if(!a)return[!1,"You need to build a shelter first!"];if(!ze(o))return[!1,"You do not have enough resources to build this."];const i=ee[o];return i&&Object.entries(i).forEach(([r,p])=>{s.persistent.resources[r]-=p}),[!0,"Built successfully!"]}function ze(o){const t=ee[o];return t?Object.entries(t).every(([a,i])=>(s.persistent.resources[a]?s.persistent.resources[a]:0)>=i):!0}function We(o){if(!o)return!1;let t=!1;return e.every("collideable",a=>{Ye(o.worldArea(),a.worldArea())&&(t=!0)}),t}function Ye(o,t){return o.p2.x>t.p1.x&&o.p1.x<t.p2.x&&o.p2.y>t.p1.y&&o.p1.y<t.p2.y}const Pe={oxygen_tank:()=>{const o=e.get("oxygen_tank").length;s.persistent.maxOxygen=120+o*20}};function de(o,t,a=!1){const[i,r]=Be(o);if(i||a){s.interaction.tutorialButtonPulsing[o]=!1,new Audio("/audio/hover.webm").play(),e.add(Ce(o,t)),s.interaction.placingBuilding=null;const p=Pe[o];p&&p(),ie()}else se(r)}const je={chanceToStartAlive:.4,deathLimit:3,birthLimit:4,numberOfSteps:2,worldWidth:64,worldHeight:48,create:function(o){for(const i in o)this[i]=o[i];let t=[[]];this.initialiseMap(t);for(let i=0;i<this.numberOfSteps;i++)t=this.step(t);const a=t.map(i=>` ${i.join("")} `);return a.unshift(" "),a.push(" "),a},initialiseMap:function(o){for(let t=0;t<this.worldWidth;t++){o[t]=[];for(let a=0;a<this.worldHeight;a++)o[t][a]=0}for(let t=0;t<this.worldWidth;t++)for(let a=0;a<this.worldHeight;a++)Math.random()<this.chanceToStartAlive&&(o[t][a]=1);return o},step:function(o){const t=[[]];for(let a=0;a<o.length;a++){t[a]=[];for(let i=0;i<o[0].length;i++){let r=this.countAliveNeighbours(o,a,i);o[a][i]>0?r<this.deathLimit?t[a][i]=0:t[a][i]=1:r>this.birthLimit?t[a][i]=1:t[a][i]=0}}return t},countAliveNeighbours:function(o,t,a){let i=0;for(let r=-1;r<2;r++)for(let p=-1;p<2;p++){let f=r+t,y=p+a;r===0&&p===0||(f<0||y<0||f>=o.length||y>=o[0].length||o[f][y]===1)&&(i=i+1)}return i}};function Re(){const o=je.create({worldWidth:14,worldHeight:25,birthLimit:6,deathLimit:3,numberOfSteps:10,chanceToStartAlive:.4});e.addLevel(o,{width:128,height:128,"1":()=>he({type:"tree",value:1,gives:"wood",health:10})}),pe({type:"rock",gives:"stone",value:1,health:5},Math.round(e.rand(5,20))),pe({type:"metal",gives:"metal",value:1,health:15},Math.round(e.rand(5,10)))}function he(o,t,a){const i=a||fe(o.type);return[e.sprite(i),e.solid(),e.pos(),e.origin("center"),e.area({scale:.3}),e.z(1),e.opacity(1),"collideable","extractable",...Ne(o),{spriteName:i,add(){t&&this.use(e.pos(t))}}]}function P(o,t,a){if(s.scene!="planet"){s.persistent.map.extractables.push({config:o,pos:t,spriteName:a||fe(o.type)});return}e.add(he(o,t,a))}function pe(o,t){[...Array(t)].forEach(()=>{const a=e.vec2(e.rand(128,2300),e.rand(128,1200));P(o,a)})}function Fe(o){o||(o=s.persistent.map),o.extractables.forEach(t=>{P(t.config,e.vec2(t.pos.x,t.pos.y),t.spriteName)}),o.buildings.forEach(t=>{de(t.name,e.vec2(t.pos.x,t.pos.y),!0)})}function Qe(){s.persistent.requestMap=!0,s.persistent.map.extractables=[],se("The planet's terrain has grown back!")}function ie(){const o=[],t=[];e.every("extractable",i=>{o.push({config:i.config,spriteName:i.spriteName,pos:{x:i.pos.x,y:i.pos.y}})}),e.every("building",i=>{t.push({name:i.buildingName,pos:{x:i.pos.x,y:i.pos.y}})});const a={extractables:o,buildings:t};return s.persistent.map=a,a}function fe(o){const a={tree:2,rock:4,metal:4}[o];return a?`${o}_${Math.floor(Math.random()*(a-1+1)+1)}`:o}const Ve={wood:{base:12},stone:{base:5},metal:{base:7}};function Xe(){const o={},t=Math.round(e.rand(3,5));return Object.entries(Ve).forEach(([a,i])=>{o[a]=e.randi(i.base,i.base+3)*t}),[o,t]}class C{constructor(){g(this,"name");g(this,"description");g(this,"state")}}function Ke(){const o=e.get("player")[0];if(!o)return;const t=e.chance(.5),a=t?o.pos.x:e.rand(o.pos.x-200,o.pos.x+200),i=t?o.pos.y:e.rand(o.pos.y-200,o.pos.y+200),r=e.add([e.sprite("metal_2"),e.origin("center"),e.area(),e.pos(a,-100),{cooldown:!1,update(){this.pos=this.pos.add(0,500*e.dt()),this.pos.y>=i&&(e.shake(5),e.play("meteor_impact",{volume:.25}),p==null||p.destroy(),e.chance(.25)&&P({health:15,gives:"metal",type:"metal",value:2},this.pos,"metal_2"),this.isTouching(e.get("player")[0])&&!this.cooldown&&i-this.pos.y<=30&&(this.cooldown=!0,A(1)),this.destroy())}}]),p=e.add([e.pos(a,i),e.origin("center"),e.color(0,0,0),e.opacity(.5),e.scale(1),{id:"shadow",startingDist:null,add(){this.startingDist=r.pos.dist(this.pos)},draw(){const f=r.pos.dist(this.pos),y=Math.abs(1-Math.max(0,f/this.startingDist));e.drawEllipse({pos:this.pos,radiusX:40*y,radiusY:10*y,start:0,end:0,fill:!0,color:e.color(0,0,0).color,opacity:y-.2})}}])}function Je(){e.wait(e.rand(0,1),()=>{e.shake(2),e.play("meteor_impact",{volume:.1}),e.chance(.25)&&P({health:15,gives:"metal",type:"metal",value:2},e.vec2(e.rand(100,2400),e.rand(100,1900)),"metal_2")})}class Ze extends C{constructor(){super(...arguments);g(this,"name","Meteors");g(this,"description","HUGE meteors are approaching the planet! Take cover!")}planet(){this.canceler=e.loop(.35,function(){s.disasterTimer>0&&Ke()})}interior(){this.canceler=e.loop(.35,function(){s.disasterTimer>0&&Je()})}exit(){}}e.loadSound("meteor_impact","audio/impact.webm");class et extends C{constructor(){super(...arguments);g(this,"name","Tsunami");g(this,"description","A HUGE Tsunami has been detected. If you are unable to make it to the shelter / high ground, the safest calculated spot to be at is your far right.");g(this,"state",{scaleX:0,opacity:1,timeIdle:0,cooldown:!1,pos:[...Array(5)].map(()=>e.vec2(e.rand(0,3e3),e.rand(0,2e3))),isOnHighground:[]})}init(){const t=e.play("tsunami",{loop:!0,volume:.75}),a=this.state;e.add([e.stay(),{update(){if(a.scaleX<1)a.scaleX+=.2*e.dt(),e.shake(.5);else{if(a.opacity<=0||s.scene==="death"){t.stop(),this.destroy();return}s.disasterTimer<=0&&a.opacity>0&&(a.opacity-=.02)}}}])}planet(){const t=this.state,a=e.get("player")[0];t.pos.forEach((i,r)=>{e.add([e.pos(i),e.sprite("rock_2"),e.scale(4),e.z(1),e.area(),{introOp:0,add(){this.solid=!1},update(){if(!s.currentDiaster||s.scene==="death"){this.opacity>0?this.opacity-=1.5*e.dt():this.destroy();return}this.introOp<1&&(this.introOp+=.01,this.opacity=this.introOp),t.isOnHighground[r]=this.isTouching(a)}},"highground"])}),e.add([e.rect(2500,2e3),e.color(38,107,126),e.pos(),e.area(),{update(){this.use(e.scale(t.scaleX,1)),this.use(e.opacity(t.opacity)),t.opacity<=0&&this.destroy(),!t.isOnHighground.some(i=>i===!0)&&this.isTouching(e.get("player")[0])&&!t.cooldown&&(A(1),t.cooldown=!0,e.wait(2,()=>{t.cooldown=!1}))}}])}interior(){this.state.cooldown=!1}}e.loadSound("tsunami","audio/tsunami.webm");function tt(o,t,a){const i=(o.x-t.x)*(o.x-t.x)+(o.y-t.y)*(o.y-t.y);return a*=a,i<a}class st extends C{constructor(){super(...arguments);g(this,"name","Nuke");g(this,"description","A HUGE explosion resembling a nuclear explosion has been detected. STAY AWAY from the calculated blast zone.");g(this,"state",{scale:0,cooldown:!1,time:0,radius:e.rand(1e3,1500),sfx:e.play("nuke"),location:e.vec2(e.rand(100,2100),e.rand(100,1800)),opacity:.5})}init(){if(s.scene==="planet"){const a=e.get("player")[0];this.state.location=e.vec2(e.rand(a.pos.x-1e3,a.pos.x+1e3),e.rand(a.pos.y-1e3,a.pos.y+1e3))}this.state.sfx.pause();const t=this.state;e.add([e.stay(),{update(){t.time+=e.dt(),(!s.currentDiaster||s.scene==="death")&&(t.opacity>0?t.opacity-=.5*e.dt():(this.destroy(),t.sfx.stop())),t.time>=5&&t.scale<1&&(t.scale+=.05*(40*e.dt()),e.shake(s.scene==="planet"?10:5),t.sfx.play())}}])}planet(){this.state.sfx.volume(1.2);const t=this.state;e.add([e.origin("center"),e.pos(t.location),{update(){const a=e.get("player")[0];tt(a.pos,t.location,t.radius*t.scale)&&!t.cooldown&&(t.cooldown=!0,A(1),e.wait(1,()=>{t.cooldown=!1})),(!s.currentDiaster||s.scene==="death")&&t.opacity<=0&&this.destroy()},draw(){e.drawCircle({pos:t.location,radius:t.radius,color:e.color(210,4,45).color,opacity:t.opacity}),e.drawCircle({pos:t.location,radius:t.radius,color:e.color(246,240,82).color,scale:t.scale,opacity:t.opacity})}}])}interior(){this.state.sfx.volume(.2)}exit(){P({type:"uranium",gives:"uranium",value:1,health:10},this.state.location.add(500,250),"uranium_1")}}e.loadSound("nuke","audio/nuke.webm");class ot extends C{constructor(){super(...arguments);g(this,"name","Huge Bean");g(this,"description","A HUGE bean has been detected. Proceeed with caution.");g(this,"state",{pos:e.vec2(0,0),target:e.vec2(0,0),time:0,cooldown:0})}init(){if(s.scene==="planet"){const a=e.get("player")[0];this.state.pos=e.vec2(e.rand(a.pos.x-500,a.pos.x+500)+800,e.rand((a.pos.y-500,a.pos.y+500+600)))}const t=this.state;e.add([e.stay(),{update(){t.time+=e.dt(),(!s.currentDiaster||s.scene==="death")&&this.destroy(),t.cooldown>0&&(t.cooldown=t.cooldown-e.dt())}}])}planet(){const t=this.state;e.add([e.sprite("bean"),e.pos(t.pos),e.scale(5),e.area(),e.origin("center"),{add(){this.collides("extractable",i=>{i.destroy()}),this.collides("player",()=>{A(1)})},update(){const i=e.get("player")[0];i.pos.dist(this.pos)<500&&t.cooldown<=0&&(t.cooldown=1,a()),(!s.currentDiaster||s.scene==="death")&&this.destroy(),this.moveTo(i.pos,150),t.pos=this.pos}}]);const a=()=>{const i=e.get("player")[0];e.burp(),e.shake(5),e.add([e.sprite("bean"),e.pos(t.pos),e.area(),e.scale(.75),e.origin("center"),e.rotate(i.pos.angle(t.pos)),e.lifespan(1),e.move(i.pos.angle(t.pos),900),{add(){this.collides("player",()=>{A(1),this.destroy()}),this.collides("extractable",r=>{r.destroy(),this.destroy()})}}])}}interior(){this.canceler=e.loop(1,()=>{e.chance(.9)&&(e.shake(2),e.burp({volume:.1}))})}}e.loadBean();class nt extends C{constructor(){super(...arguments);g(this,"name","Lava");g(this,"description","A HUGE lava eruption has been detected as imminent. Search for high rocks if you are unable to make it to shelter!");g(this,"state",{pos:[...Array(5)].map(()=>e.vec2(e.rand(0,3e3),e.rand(0,2e3))),time:0,cooldown:0,opacity:0,isOnHighground:[],sfx:e.play("lava",{loop:!0})})}init(){const t=this.state;t.sfx.pause(),e.add([e.stay(),{update(){t.time+=e.dt(),(!s.currentDiaster||s.scene==="death")&&(t.sfx.stop(),this.destroy()),t.cooldown>0&&(t.cooldown=t.cooldown-e.dt()),t.time>5&&t.opacity<=1&&(t.sfx.paused()&&t.sfx.play(),e.shake(5),t.opacity+=1*e.dt())}}])}planet(){const t=this.state;t.sfx.volume(3);const a=e.get("player")[0];t.pos.forEach((i,r)=>{e.add([e.pos(i),e.sprite("rock_2"),e.scale(4),e.z(1),e.area(),{introOp:0,add(){this.solid=!1},update(){if(!s.currentDiaster||s.scene==="death"){this.opacity>0?this.opacity-=1.5*e.dt():this.destroy();return}this.introOp<1&&(this.introOp+=.01,this.opacity=this.introOp),t.isOnHighground[r]=this.isTouching(a)}},"highground"])}),e.add([e.rect(5e3,3e3),e.color(248,58,12),e.opacity(0),e.area(),{update(){if(!s.currentDiaster||s.scene==="death"){this.opacity>0?this.opacity-=1*e.dt():this.destroy();return}this.opacity=t.opacity,!t.isOnHighground.some(i=>i===!0)&&this.opacity>=1&&this.isTouching(a)&&t.cooldown<=0&&(A(1),t.cooldown=1)}}])}interior(){this.state.sfx.volume(1),this.canceler=e.loop(3,()=>{e.shake(2)})}}e.loadSound("lava","audio/lava.webm");class at extends C{constructor(){super(...arguments);g(this,"name","Huge Lazer");g(this,"description","A HUGE energy leakage resembling a lazer has been detected. If you are in it's path MOVE AWAY.")}planet(){const t=e.get("player")[0];this.canceler=e.loop(1,()=>{const a=t.pos.y;let i=0;e.add([e.origin("center"),e.rect(7500,45),e.pos(0,a),e.color(183,18,19),e.opacity(.3),e.lifespan(1.5,{fade:1}),{update(){i+=e.dt()}}]);let r=!1;e.add([e.origin("left"),e.rect(0,45),e.pos(0,a),e.color(e.randi(50,230),e.randi(50,230),e.randi(50,230)),e.opacity(1),e.area(),e.lifespan(1,{fade:.1}),{add(){this.collides("player",()=>{A(1)})},update(){i>=.5&&(e.shake(1),this.width+=8e3*e.dt(),r||(r=!0,e.play("lazer",{volume:.5})))}}])})}interior(){this.canceler=e.loop(1,()=>{e.play("lazer",{volume:.25}),e.shake(1)})}}e.loadSound("lazer","audio/lazer.webm");function it(o,t,a){const i=(o.x-t.x)*(o.x-t.x)+(o.y-t.y)*(o.y-t.y);return a*=a,i<a}class rt extends C{constructor(){super(...arguments);g(this,"name","Tornado");g(this,"description","A HUGE Tornado has been detected. If you see its clouds, move in a different direction!");g(this,"state",{position:e.vec2(e.rand(0,5e3),e.rand(0,2e3)),target:e.vec2(e.rand(0,5e3),e.rand(0,2e3)),radius:1,sfx:e.play("tornado",{loop:!0})})}init(){const t=this.state;e.add([e.stay(),{update(){(!s.currentDiaster||s.scene==="death")&&(t.sfx.stop(),this.destroy())}}])}planet(){const t=this.state;t.sfx.volume(1);let a=!1;e.add([e.pos(t.position),e.sprite("tornado"),e.origin("center"),e.rotate(0),e.z(5),{update(){const i=e.get("player")[0];this.pos.dist(t.target)<=1&&(t.target=e.vec2(e.rand(0,5e3),e.rand(0,2e3))),this.moveTo(t.target,400),t.position=this.pos,e.shake(2),!s.currentDiaster||s.scene==="death"?t.radius>0?t.radius-=1e3*e.dt():this.destroy():t.radius<700&&(t.radius+=500*e.dt()),this.use(e.scale(t.radius/700*2.5)),it(i.pos,t.position,t.radius)&&!a&&(A(1),a=!0,e.wait(1,()=>a=!1)),this.angle+=100*e.dt()}}])}interior(){this.state.sfx.volume(.5),e.add([{update(){e.shake(1),(!s.currentDiaster||s.scene==="death")&&this.destroy()}}])}}e.loadSound("tornado","audio/tornado.webm");e.loadSprite("tornado","sprites/tornado.png");const te={meteor:Ze,tsunami:et,nuke:st,hugeBean:ot,lava:nt,lazer:at,tornado:rt};function _e(o,t){if(te[o]){const a=new te[o];s.persistent.numDisasters++,s.currentDiaster=a,s.disasterTimer=t,a.init&&a.init(),s.scene==="planet"?a.planet&&a.planet():a.interior&&a.interior()}}let F=me(Object.keys(te));function lt(){F.length===0&&(F=me(Object.keys(te)));const o={lava:10,tsunami:10,lazer:10},t=e.choose(F);_e(t,o[t]||25),F=F.filter(a=>a!=t)}function ye(){s.currentDiaster&&s.disasterTimer>0&&(s.scene==="planet"?s.currentDiaster.planet&&s.currentDiaster.planet():s.currentDiaster.interior&&s.currentDiaster.interior())}function me(o){let t=o.length,a;for(;t!=0;)a=Math.floor(Math.random()*t),t--,[o[t],o[a]]=[o[a],o[t]];return o}const L=(o,t)=>setTimeout(()=>t(),o*1e3),s=K({canvas:document.querySelector("canvas"),position:e.mouseWorldPos(),interaction:{placingBuilding:null,currentToolIndex:-1,showQuota:!1,showLog:!1,quotaSuccess:!1,showLetter:!1,nextToBed:!1,debtLetterShown:!1,tutorialButtonPulsing:{shelter:!1,nuclear_generator:!1,communications:!1,oxygen_tank:!1,log:!1}},persistent:{name:"",dayRespawned:0,maxHealth:5,health:5,day:0,hour:12,numDisasters:0,oxygen:120,maxOxygen:120,failures:0,tools:[],quota:{},quotaDay:null,requestMap:!0,resources:{},map:{extractables:[],buildings:[]},objectives:{survival:[],huge:[]},log:[],disastersHappened:[]},scene:"onboarding",currentDiaster:null,disasterTimer:0,notis:[],newGame:!0}),ge={Meteors:{title:"HUGE news! Meteor showers in the colony.",description:"HUGENet has determined that meteor showers are frequent in the colony. We've determined that only way to defend against these showers is to avoid them. Quick on your feet, contractor! Also, fallen meteors are HUGE sources of metal."},"Huge Bean":{title:"ENEMY INFORMATION! HUGE Bean spotted!",description:"A HUGEly powerful alien specimen has been detected in the colony planet. The specimen is very powerful and any contractors near it should flee quickly. The HUGE Bean will leave quickly, but keep coming back to the planet."},Lava:{title:"Volcanic Eruptions, or are they...?",description:"We have detected HUGE and frequent lava floods ALL OVER the planet. The only was to protect yourself is to find a high rock to stay high and dry. And that's HUGE signing off! Good luck to you contractor!"},"Huge Lazer":{title:"HUGE Lazer Beams chasing any moving things in sight!",description:"HUGE amounts of volatile energy is leaking from the planet colony! They appear in the form of loud flashing lazers. Steer clear of these dangerous beams, contractor! For the HUGE conglomerate!"},Nuke:{title:"NUCLEAR BOMBS crashing on the planet!",description:"Our competitor sMaLL Industries is sabotaging the colony with HUGE NUKES! This would be illegal on Earth, but we don't have those rules here. Stay AWAY from the blast radius at ALL COSTS!"},Tornado:{title:"TORNADOES galore! Whirlwinds show HUGE wind activity.",description:"We have spotted a large tornado recently and expect it to return soon! Run as fast as you can to safety! Winds are HUGEly unstable on the colony."},Tsunami:{title:"HUGE Tsunami spotted! Too deep to swim too!",description:"Get to a high rock that appears during this disaster! The HUGE water levels rise from the LEFT of the map so run to the HUGE rocks or the far right of the planet."}};let ve=!0;function ct(){if(s.scene==="death")return;const o=e.get("player")[0];if(s.scene==="shelter"&&(s.persistent.oxygen--,s.persistent.oxygen<=0&&A(1),s.persistent.dayRespawned!==s.persistent.day&&(Qe(),s.persistent.dayRespawned=s.persistent.day,Q(e.choose(pt.stories)))),!!o){if(s.persistent.health<=0&&(s.persistent.health=0,j("death")),s.currentDiaster&&(s.disasterTimer--,s.disasterTimer<=0)){const t=s.currentDiaster.name;t&&!s.persistent.disastersHappened.includes(t)&&(s.persistent.disastersHappened.push(t),ge[t]&&Q(ge[t])),s.currentDiaster.exit&&s.currentDiaster.exit(),s.currentDiaster.canceler&&s.currentDiaster.canceler(),s.currentDiaster=null}e.setData("save",s.persistent),s.scene==="planet"&&ie()}}e.add([e.stay(),{time:0,nextHour:0,secondsPerHour:30,update(){if(this.time+=e.dt(),this.time>=1&&(ct(),this.time=0,this.nextHour++,this.nextHour>=this.secondsPerHour)){s.persistent.hour++,this.nextHour=0;const o=s.persistent.failures>=3;if(s.persistent.quotaDay&&s.persistent.quotaDay<=s.persistent.day||o){const t=Object.entries(s.persistent.quota).every(([a,i])=>{const r=s.persistent.resources[a]||0;return i<=r});!t&&!o&&s.persistent.failures++,t?(o?(s.persistent.failures=0,s.interaction.debtLetterShown=!1):s.persistent.failures=Math.max(s.persistent.failures-1,0),Object.entries(s.persistent.quota).forEach(([a,i])=>{s.persistent.resources[a]-=i}),Q({title:`${s.persistent.name}'s planet deemed "highly prosperous" after fulfilling quota!`,description:`In what was described by members of the board as "the fruits of an extensive application of their scientific abilities", the board of HUGE revealed further results of production quotas on a colony they had recently set up, in what was heralded by many as a triumph.
According to the announcement, the quota was fulfilled after the application of their "systematic and efficient approach to resource gathering", as described by one member. The initial test suggested that this planet, dubbed "${s.persistent.name}'s Planet", is "highly prosperous, even in comparison to neighboring systems" and is "rapidly growing, expanding and prospering".`})):Q({title:`${s.persistent.name}'s planet denounced by HUGE after missing quota!`,description:`The board of HUGE described ${s.persistent.name}'s planet as "less than desirable". In light of this "disappointing" result, the board described themselves as being "highly concerned" about the future of the colony, warning that "a failure to meet the quota is not something we can afford to take lightly, as you may recall."`}),s.interaction.debtLetterShown||(o&&(s.interaction.debtLetterShown=!0),e.get("player")[0].allowMovement=!1,s.interaction.quotaSuccess=t,s.interaction.showLetter=!0,xe())}!s.currentDiaster&&s.persistent.numDisasters===1&&ve?ve=!1:!s.currentDiaster&&s.persistent.numDisasters>0&&!s.interaction.showLetter&&lt(),s.persistent.hour===25&&(s.persistent.hour=0,s.persistent.day++)}}}]);const be=({offsetX:o,offsetY:t})=>{s.position=e.mouseWorldPos()};var He;(He=s.canvas)==null||He.addEventListener("mousemove",be);var Te;(Te=s.canvas)==null||Te.addEventListener("mouseover",be);function j(o){s.scene==="planet"&&ie(),e.go(o),s.scene=o}function ut(o){s.persistent.tools.push(o)}function we(){const o=s.persistent.tools[s.interaction.currentToolIndex];return o||null}function dt(o){const t=s.persistent.tools[o];return t?(s.interaction.currentToolIndex=o,t):null}function se(o){console.log(o),s.notis.push(o),setTimeout(()=>s.notis.shift(),3e3)}function Q({title:o,description:t}){s.persistent.log.unshift({title:o,description:t,time:{day:s.persistent.day,hour:s.persistent.hour}}),s.interaction.tutorialButtonPulsing.log=!0}function ht(o,t){if(!s.persistent.objectives[o])return;const a=s.persistent.objectives[o],i=a.findIndex(r=>r.name===t);i!=-1&&a.splice(i,1)}const re={wood:"tree_1",metal:"metal_1",stone:"rock_1",uranium:"uranium_1"};function A(o=1){s.persistent.health-=o,e.play("hurt",{volume:3}),e.shake(2)}const pt={stories:[{title:`HUGE CEO named "World's Most Influential Scientist".. again!`,description:`The world\u2019s top thinkers, innovators and leaders in their fields are asked to be named \u201CMost Influential\u201D by Orb Media. The list is composed of people who have a profound impact on our society. This year the list was composed of more than 300 people from over 50 countries.

The results of the voting by the Orb Media selection committee show that P. J. Pogan has again proven his status as a leader of a generation. From his work in developing a new vision for the human experience in space, to his vision for a sustainable future in the face of climate change and resource depletion.

\u201CI am honored to be named as the most influential scientist once again. It demonstrates that my work in the future of space exploration is more relevant and effective than ever before. I am proud to lead HUGE and excited to see our vision continue to grow,\u201D said Dr. Pogan. \u201CWe have made significant progress in the last couple of years on a wide range of our research and development goals. Space is a frontier that we can now draw more attention and action to.`},{title:`HUGE breaks records yet again with addition of a new colony that's "bigger, faster, and better"!`,description:`With this exciting development, the board has gone ahead with the addition of yet another colony. The board has stated that the size of the colony is the new largest ever, and is even bigger than those of its previous colony additions.

 "This colony is now one of the best in the entire system and we have no doubt it will remain so in the future as well. With the addition of it's first species, there is no doubt that Huge will be known as the "best colony in the galaxy" for years to come. I congratulate all those involved in the development and the establishment of this amazing colony."`},{title:"HUGE discovers more new planets of great potential.",description:'The board of Huge disclosed the another discovery of a planet with "amazing potential". "After much careful exploration of this planet, we have found much to recommend it. There is much to be explored and harvested, as well as a great number of suitable habitats and environments. This planet will be made available via our grant system for those who wish to explore it.'},{title:"Once again, HUGE has exceeded expectations!",description:`It was announced that the HUGE has discovered additional habitable planets. According to one of the board of Huge, "We've found something that completely blew us away. The planet in question is almost perfect, so we have decided to offer it up as a grant. The new discovery is one of the most promising planets that we have seen yet, so we expect that this planet will make a great addition to the huge population of HUGE colonies."`},{title:"HUGE is on a roll!",description:'Huge is growing, and the board of Huge has approved more grants! The board of Huge has approved a number of grants for colonies which have exceeded the expectations of the board in any number of ways. It was disclosed that one of these new grants was for an exploratory colony to find a new galaxy. The board of Huge is hoping that one of these grants will become a "huge" hit and could have a positive influence on the future of mankind.'},{title:"HUGE further expands grant offers!",description:'Huge is looking to expand its grant program, with many more grants in the offing. This time, it is a new offer for any colonies that are looking to explore the skies, but also looking for land. As one of the board of Huge put it, "Our main focus is on the exploratory grants, as they are the main reason that we exist. However, if there are any other colonies that would be looking to expand with a grant, we would definitely be interested.'}]};function xe(){if(s.persistent.failures>=3){s.persistent.quota={wood:100,metal:50,stone:40},s.persistent.quotaDay=1/0,se("Your are in Debt to HUGE. Check your quota for details.");return}const[o,t]=Xe();s.persistent.quota=o,s.persistent.quotaDay=s.persistent.day+t,se("HUGE has sent you a new Quota. You have "+t+" days")}var D=(o,t)=>{for(const[a,i]of t)o[a]=i;return o};const ft=H({setup(o){const t=J(!1),a=G(()=>Math.abs(12-s.persistent.hour)/12),i=G(()=>t.value?`rgba(138,3,3,${a.value+1})`:`rgba(0,0,0,${a.value})`);return Ie(()=>s.persistent.health,(r,p)=>{r<p&&(t.value=!0,setTimeout(()=>{t.value=!1},500))}),(r,p)=>(c(),d("div",{class:"hud-element",style:W(`box-shadow:0 0 20000px ${l(i)} inset;`)},null,4))}});var _t=D(ft,[["__scopeId","data-v-14d92720"]]);let S=null,le=!1;const yt=["SUMMARY","A","BUTTON"],mt=o=>{if(!o)return!1;let t=o.nodeName;for(;t!=="BODY";){if(yt.includes(t))return!0;(o==null?void 0:o.parentNode)&&(o=o.parentNode,t=o.nodeName)}return!1};window.addEventListener("mousedown",({target:o})=>{mt(o)&&new Audio("/audio/hover.webm").play()});const x={planet:new O.Howl({src:"audio/Space Jazz.webm",loop:!0,volume:.2}),interior:new O.Howl({src:"audio/Nightdreams.webm",loop:!0,volume:.2}),death:new O.Howl({src:"audio/piano.webm",loop:!0,volume:2}),disasters:{0:new O.Howl({src:"audio/disaster_0.webm",loop:!0,volume:.2}),1:new O.Howl({src:"audio/disaster_1.webm",loop:!0,volume:.2}),2:new O.Howl({src:"audio/disaster_2.webm",loop:!0,volume:.2}),3:new O.Howl({src:"audio/disaster_3.webm",loop:!0,volume:.2})},launch:new O.Howl({src:"audio/launch.webm",loop:!0,volume:.5})};function gt(){if(le)return;le=!0;const o=e.randi(0,Object.keys(x.disasters).length-1);S==null||S.stop(),S=x.disasters[o],S.play(),S.fade(0,S.volume(),1e3)}function vt(){const o={onboarding:x.planet,planet:x.planet,shelter:x.interior,death:x.death};S==null||S.stop();const t=o[s.scene];S=t,t.play(),t.fade(0,t.volume(),1e3),le=!1}const M=o=>(U("data-v-23a3a500"),o=o(),N(),o),bt={class:"hud-element hugenet-status"},wt={class:"title-log"},xt=M(()=>n("h1",null,[n("span",{class:"huge"},"HugeNet"),n("span",{class:"thin"},"AI")],-1)),kt=M(()=>n("span",{class:"iconify","data-icon":"bx:bxs-news"},null,-1)),$t=M(()=>n("b",null,"HugeLOG",-1)),Ht=[kt,$t],Tt={class:"player-info"},Et=M(()=>n("b",null,"Day",-1)),Dt=M(()=>n("b",null,"Hour",-1)),St={class:"health-display"},It=M(()=>n("b",null,"Health",-1)),At={class:"health-bar"},Gt={key:0,class:"objectives-title"},Ot=M(()=>n("b",null,"Survival Objectives:",-1)),Ut=[Ot],Nt={class:"objectives-list"},qt=H({setup(o){const t=K({enabled:!1,text:"",color:""}),a=G(()=>{if(s.persistent.hour<=5)return"\u{1F315}";if(s.persistent.hour<=7)return"\u{1F305}";if(s.persistent.hour<=16)return"\u2600\uFE0F";if(s.persistent.hour<=19)return"\u{1F307}";if(s.persistent.hour<=20)return"\u{1F319}";if(s.persistent.hour===24)return"\u{1F315}"}),i=G(()=>{var z;return s.persistent.failures>=3?{text:"DISABLED",color:"#2d3436"}:e.get("shelter").length>0||s.persistent.map.buildings.find(ne=>ne.name==="shelter")?e.get("nuclear_generator").length>0||s.persistent.map.buildings.find(ne=>ne.name==="nuclear_generator")?(s.persistent.numDisasters===0&&(t.color="#636e72",t.text="Power Established",t.enabled=!0,L(3,()=>{t.text="Checking Systems..."}),L(4,()=>{t.text="Booting Up..."}),L(8,()=>{t.text="HugeNET",t.color="var(--huge)"}),L(13,()=>{t.text="The Most Advanced Survival AI",t.color="var(--huge)"}),L(15,()=>{t.text="New Planet Detected...",t.color="#636e72"}),L(17,()=>{t.text="Scanning Area...",t.color="#636e72"}),L(25,()=>{t.text="DISASTER DETECTED",t.color="#d63031",_e("meteor",15)}),L(26,()=>{t.enabled=!1})),t.enabled?t:s.currentDiaster?{text:`${(z=s.currentDiaster.name)==null?void 0:z.toUpperCase()} ${new Date(s.disasterTimer*1e3).toISOString().substr(14,5)}`,color:"#d63031"}:{text:"All Systems Operational",color:"#10ac84"}):{text:"NO POWER",color:"#d63031"}:{text:"OFFLINE",color:"#2d3436"}});function r(){s.interaction.tutorialButtonPulsing.log=!1,s.interaction.showLog=!0}const p=G(()=>{const m=s.persistent.health/s.persistent.maxHealth;return m>.7?"rgb(49, 239, 87)":m>.3?"yellow":"#b9314f"}),f=G(()=>e.get("communications").length>0||s.persistent.map.buildings.find(m=>m.name==="communications")),y=G(()=>{const m=e.get("communications").length>0||s.persistent.map.buildings.find(k=>k.name==="communications");if(i.value.text==="DISABLED")return[{name:"Pay Off Your Debts",description:"HugeNET is disabled until you pay your debts. A button in top right corner displays your debt."}];if(i.value.text==="OFFLINE")return s.interaction.tutorialButtonPulsing.shelter=!0,[{name:"Establish A Shelter",description:"HUGE has given you a shelter building kit to get you started! You can place it by selecting it on the bottom of the screen."}];if(i.value.text==="NO POWER")return s.interaction.tutorialButtonPulsing.nuclear_generator=!0,[{name:"Establish Power",description:"HugeNET is unable to function properly without power. Please build a nuclear generator to generate power."}];if(s.currentDiaster)return[{name:`Survive ${s.currentDiaster.name}`,description:s.currentDiaster.description}];const v=[];return m||(s.interaction.tutorialButtonPulsing.communications=!0,v.push({name:"Build a Communication Tower",description:"HugeNET has calculated that your chances of survival without HUGE support is 0%. You need to gather metal and build a communications tower soon."})),s.persistent.quota&&m&&(s.persistent.quotaDay===null&&xe(),v.push({name:`Extract Resources To Meet Your Quota (Checked On: Day ${s.persistent.quotaDay})`,description:"In exchange for your planet, HUGE expects you to provide resources back to them. A button in top right corner displays your quota. You need to meet this quota to fufil your contract."})),(s.persistent.hour>=19||s.persistent.hour<=3)&&v.push({name:"Rest",description:"HugeNET has detected fatigue within your body. Go to the shelter bed and rest to allow for natural recovery."}),v});return ue(()=>{s.scene!=="onboarding"&&(s.currentDiaster?gt():vt())}),(m,v)=>{var k;return c(),d("section",bt,[n("div",wt,[xt,w(E,{name:"fade"},{default:$(()=>[l(f)?(c(),d("button",{key:0,style:{"--accent":"#0abde3"},onClick:r,class:Z({pulsing:l(s).interaction.tutorialButtonPulsing.log})},Ht,2)):T("",!0)]),_:1})]),n("p",{class:"status",style:W({backgroundColor:l(i).color})},[w(E,{name:"fade",mode:"out-in"},{default:$(()=>[(c(),d("span",{key:l(i).text.split(" ")[0],class:Z({flicker:l(s).currentDiaster})},_(l(i).text),3))]),_:1})],4),n("div",Tt,[n("p",null,[Et,h(" "+_(l(s).persistent.day)+" ",1),Dt,h(" "+_(l(s).persistent.hour)+" "+_(l(a)),1)]),n("div",St,[It,n("div",At,[n("div",{style:W(`width: ${l(s).persistent.health*100/l(s).persistent.maxHealth}%;
                            background: ${l(p)};  
                        `)},null,4)]),n("b",null,_(l(s).persistent.health)+"/"+_(l(s).persistent.maxHealth),1)])]),((k=l(y))==null?void 0:k.length)?(c(),d("p",Gt,Ut)):T("",!0),n("section",Nt,[w(ae,{name:"slide-fade",mode:"out-in"},{default:$(()=>[(c(!0),d(I,null,q(l(y),z=>(c(),d("details",{key:z.name,open:""},[n("summary",null,[n("b",null,_(z.name),1)]),n("small",null,_(z.description),1)]))),128))]),_:1})])])}}});var Lt=D(qt,[["__scopeId","data-v-23a3a500"]]);const V=o=>(U("data-v-f68e90a6"),o=o(),N(),o),Ct={key:0,class:"sleeping"},Mt={key:1},Bt={key:0,class:"sleep-prompt"},zt=V(()=>n("h1",null,"Go to Sleep?",-1)),Wt={key:1,class:"sleep-prompt"},Yt=V(()=>n("p",null,"You cannot sleep now",-1)),Pt=V(()=>n("br",null,null,-1)),jt=V(()=>n("p",null,"You can sleep between Hour 19 - Hour 3",-1)),Rt=[Yt,Pt,jt],Ft={key:2},Qt={class:"status"},Vt=V(()=>n("b",null,"Shelter Oxygen Remaning",-1)),Xt=H({setup(o){const t=J(!1);function a(){t.value||(t.value=!0,s.persistent.hour+6>24?(s.persistent.day++,s.persistent.hour=s.persistent.hour+6-24):s.persistent.hour+=6,s.persistent.health=Math.min(s.persistent.maxHealth,s.persistent.health+2),s.persistent.oxygen=s.persistent.maxOxygen,setTimeout(()=>{t.value=!1},2e3))}return(i,r)=>(c(),Y(E,{name:"fade"},{default:$(()=>[t.value?(c(),d("section",Ct)):l(s).interaction.nextToBed?(c(),d("section",Mt,[l(s).persistent.hour>=19||l(s).persistent.hour<=3?(c(),d("div",Bt,[zt,n("button",{onClick:a},"Sleep (+6h)")])):(c(),d("div",Wt,Rt))])):l(s).scene==="shelter"?(c(),d("section",Ft,[n("p",Qt,[Vt,n("p",{class:Z({flicker:l(s).currentDiaster})},_(Math.max(l(s).persistent.oxygen,0)),3)])])):T("",!0)]),_:1}))}});var Kt=D(Xt,[["__scopeId","data-v-f68e90a6"]]);const Jt={class:"hud-element materials-display"},Zt={class:"mat-name"},es=["src","alt"],ts=H({setup(o){function t(){s.interaction.showQuota=!0}return(a,i)=>(c(),d("div",Jt,[w(ae,{name:"fade"},{default:$(()=>[(c(!0),d(I,null,q(Object.entries(l(s).persistent.resources),([r,p])=>(c(),d("p",null,[n("b",Zt,_(r)+":\xA0",1),h(" "+_(p)+" ",1),n("img",{src:`/sprites/${l(re)[r]}.png`,alt:`${r} material icon`},null,8,es)]))),256))]),_:1}),w(E,{name:"zoom"},{default:$(()=>[Object.values(l(s).persistent.quota).length>0?(c(),d("a",{key:0,onClick:t},"View "+_(l(s).persistent.failures<3?"Quotas":"Debts"),1)):T("",!0)]),_:1})]))}});var ss=D(ts,[["__scopeId","data-v-aaecbe28"]]);const ce=o=>(U("data-v-08d2d6ca"),o=o(),N(),o),os={class:"hotbar hud-element"},ns={key:0,class:"placing-overlay"},as={class:"thin"},is=["src","alt"],rs=ce(()=>n("hr",null,null,-1)),ls=ce(()=>n("h4",{class:"thin"},"Hit Escape to stop placing",-1)),cs=["onClick","title"],us=["data-icon"],ds={class:"name-tooltip-container hud-element"},hs=ce(()=>n("br",null,null,-1)),ps=H({setup(o){const t={nuclear_generator:{icon:"ion:nuclear-sharp",friendly:"Nuclear Generator",description:"A highly efficient generator that provides power to core services, such as HugeNET."},shelter:{icon:"ic:baseline-night-shelter",friendly:"Base Shelter",description:"A virtually indestructible shelter you recived from HUGE"},communications:{icon:"maki:communications-tower",friendly:"Communications Tower",description:"Connects your colony to the rest of HUGE, lets you export farmed resources."},oxygen_tank:{icon:"healthicons:oxygen-tank",friendly:"Oxygen Tank",description:"Increases the amount of oxygen your shelter can store (not immediate)."}},a=K({name:"",costs:{}});function i(r){a.name=t[r].friendly,a.costs=Object.entries(ee[r]||{}),s.interaction.placingBuilding=r,e.add([e.sprite(r),e.pos(),e.origin("center"),e.opacity(.5),e.area(),{update(){this.moveTo(s.position),s.interaction.placingBuilding||this.destroy()}},"preview"])}return window.addEventListener("keydown",({key:r})=>{r==="Escape"&&(s.interaction.placingBuilding=null)}),(r,p)=>(c(),d("div",os,[w(E,{name:"fade",tag:"div"},{default:$(()=>[l(s).interaction.placingBuilding!==null?(c(),d("div",ns,[n("h3",as,[n("b",null,_(l(a).name),1),h(" costs "+_(l(a).costs.length===0?"nothing":"")+" ",1),(c(!0),d(I,null,q(l(a).costs,([f,y],m)=>(c(),d(I,{key:y},[n("img",{src:`/sprites/${l(re)[f]}.png`,alt:`${f} material icon`},null,8,is),h(" "+_(y)+" "+_(f)+" "+_(m!==l(a).costs.length-1?"+":""),1)],64))),128))]),rs,ls])):T("",!0)]),_:1}),(c(!0),d(I,null,q(l(ee),(f,y,m)=>(c(),d("button",{key:m,onClick:v=>i(y),style:{"--accent":"#003366","--border":"white","--shadow":"#003366ad","--distance":"100px"},title:l(t)[y].friendly,class:Z({pulsing:l(s).interaction.tutorialButtonPulsing[y]})},[n("span",{class:"iconify","data-icon":l(t)[y].icon},null,8,us),n("div",ds,[n("b",null,_(l(t)[y].friendly),1),hs,n("small",null,_(l(t)[y].description),1)])],10,cs))),128))]))}});var fs=D(ps,[["__scopeId","data-v-08d2d6ca"]]);const _s={class:"notification-panel hud-element"},ys=H({setup(o){return(t,a)=>(c(),d("ul",_s,[w(ae,{name:"slide-fade",tag:"li"},{default:$(()=>[(c(!0),d(I,null,q(l(s).notis,(i,r)=>(c(),d("li",{key:`${i}-${r}`},_(i),1))),128))]),_:1})]))}});var ms=D(ys,[["__scopeId","data-v-bde13574"]]);const X=o=>(U("data-v-622cdaac"),o=o(),N(),o),gs={key:0,class:"quota-view overlay"},vs=X(()=>n("span",{class:"iconify","data-icon":"ci:close-small"},null,-1)),bs=[vs],ws={class:"quota-content popup-view"},xs=X(()=>n("hr",null,null,-1)),ks={class:"type-indicator"},$s=["src","alt"],Hs={class:"bar"},Ts=X(()=>n("b",null,null,-1)),Es=X(()=>n("br",null,null,-1)),Ds=X(()=>n("p",null,[h("Upon completion, you will receive "),n("b",null,"permanent"),h(" upgrades to your armor!")],-1)),Ss=H({setup(o){return(t,a)=>(c(),Y(E,{name:"fade"},{default:$(()=>[Object.values(l(s).persistent.quota).length>0&&l(s).interaction.showQuota?(c(),d("div",gs,[n("button",{class:"close",onClick:a[0]||(a[0]=i=>{l(s).interaction.showQuota=!1})},bs),n("div",ws,[n("h1",null,"Production "+_(l(s).persistent.failures<3?"Quotas":"Debts")+" (Checked On: Day "+_(l(s).persistent.quotaDay)+")",1),xs,(c(!0),d(I,null,q(l(s).persistent.quota,(i,r,p)=>(c(),d("div",{class:"material-progress",key:p},[n("div",ks,[n("b",null,_(r)+" ("+_(l(s).persistent.resources[r]||0)+"/"+_(i)+"):",1),n("img",{src:`/sprites/${l(re)[r]}.png`,alt:`${r} material icon`},null,8,$s)]),n("div",Hs,[n("div",{class:"filler",style:W(`width: ${(l(s).persistent.resources[r]||0)*100/i>100?100:(l(s).persistent.resources[r]||0)*100/i}%`)},null,4)]),Ts]))),128)),Es,Ds])])):T("",!0)]),_:1}))}});var Is=D(Ss,[["__scopeId","data-v-622cdaac"]]);const ke=o=>(U("data-v-78531893"),o=o(),N(),o),As={key:0,class:"overlay"},Gs=ke(()=>n("h1",null,"You have fallen!",-1)),Os=ke(()=>n("p",null,[h(" It turns out that colonizing new planets may be harder than you thought. "),n("br"),h(" HugeNET has kept you "),n("i",null,"barely"),h(" alive, and you recover the next day. "),n("br"),n("br"),n("b",null,"In order to keep you alive, HugeNET has automatically used up some of your resources")],-1)),Us=H({setup(o){function t(){s.persistent.day++;const a=e.get("player")[0];a.use(e.opacity(1)),a.tool.use(e.opacity(1)),a.allowMovement=!0,s.persistent.health=s.persistent.maxHealth,s.persistent.oxygen=s.persistent.maxOxygen,s.currentDiaster=null,s.disasterTimer=0,Object.keys(s.persistent.resources).forEach(i=>{s.persistent.resources[i]=Math.floor(s.persistent.resources[i]/2)}),j("shelter")}return(a,i)=>(c(),Y(E,{name:"fade"},{default:$(()=>[l(s).scene==="death"?(c(),d("section",As,[Gs,Os,n("button",{onClick:t},"Continue To Next Day")])):T("",!0)]),_:1}))}});var Ns=D(Us,[["__scopeId","data-v-78531893"]]),qs="/img/onboarding0.png",Ls="/img/onboarding1.svg",Cs="/img/onboarding2.svg",Ms="/img/onboarding3.svg",$e="/img/space-curtain.png";const b=o=>(U("data-v-f8144068"),o=o(),N(),o),Bs={key:0,class:"stage0"},zs=b(()=>n("img",{src:qs},null,-1)),Ws=b(()=>n("h1",null,"Disasternaut",-1)),Ys=b(()=>n("h2",{class:"thin"},[h(" Become a contractor for "),n("b",null,"HUGE Incorporated"),h(", and expand the universe as we know it! ")],-1)),Ps=b(()=>n("br",null,null,-1)),js={class:"control-group"},Rs=b(()=>n("b",null,"Start a New Game",-1)),Fs=[Rs],Qs=b(()=>n("b",null,"Continue Saved Game",-1)),Vs=[Qs],Xs={key:1,class:"stage1"},Ks=b(()=>n("img",{src:Ls},null,-1)),Js=b(()=>n("h1",null,[h(" HUGE "),n("span",null,"inc.")],-1)),Zs=b(()=>n("br",null,null,-1)),eo=b(()=>n("small",null,"(Humans United on Galactic Exploration)",-1)),to=b(()=>n("h2",{class:"thin"},[h(" Wants to outsource "),n("b",null,"you"),h(" a newly discovered planet! ")],-1)),so=b(()=>n("br",null,null,-1)),oo=b(()=>n("b",null,"I'm Interested!",-1)),no=[oo],ao={key:2,class:"stage2"},io=b(()=>n("img",{src:Cs},null,-1)),ro=b(()=>n("h1",null,"The opportunity of a lifetime!",-1)),lo=b(()=>n("small",null,[n("b",null,"HUGE"),h(" (dba Humans United on Galactic Exploration inc.) offers you a planet run entirely by you. HUGE pledges to provide you with all the resources that you require to set up society on this newly discovered planet. However, you will need to harvest and ship "),n("i",null,[h(" natural resources (such as wood, metal, stone, and "),n("b",null,"uranium"),h(") ")]),h(" on said planet back to "),n("b",null,"HUGE"),h(" to maintain ownership of this planet. ")],-1)),co=b(()=>n("hr",null,null,-1)),uo=b(()=>n("p",null,"Please sign your name to certify this legally binding contract:",-1)),ho={class:"control-group"},po=b(()=>n("b",null,"I agree",-1)),fo=[po],_o={key:3,class:"stage3"},yo=b(()=>n("div",{class:"loading overlay"},[n("img",{src:Ms}),n("h1",null,"Launching Rocket...")],-1)),mo={class:"curtain"},go=H({setup(o){x.planet.play();const t=J(0),a=J(null),i=K({left:"-50vw",right:"50vw"}),r=G(()=>e.getData("save")!==null);function p(){s.persistent=e.getData("save"),s.newGame=!1,f()}ue(()=>{t.value===0&&(x.planet.play(),x.planet.volume(0)),t.value===2&&x.planet.fade(0,1,500),t.value===3&&(x.planet.fade(1,0,1e3),setTimeout(()=>{x.planet.stop(),x.planet.volume(.2),x.launch.fade(0,.2,1e3),x.launch.play(),setTimeout(()=>{x.launch.fade(.2,0,1e3),setTimeout(()=>{x.launch.stop(),e.focus()},1e3)},3e3)},1100))});function f(){t.value=3,setTimeout(()=>{i.left="0",i.right="0",setTimeout(()=>{a.value&&(a.value.style.background="transparent"),i.left="-50vw",i.right="50vw",setTimeout(()=>j("planet"),500)},3e3)},1e3)}return(y,m)=>(c(),Y(E,{name:"fade"},{default:$(()=>[l(s).scene==="onboarding"?(c(),d("div",{key:0,ref:(v,k)=>{k.rootDiv=v,a.value=v},class:"onboarding overlay"},[w(E,{name:"bounce",mode:"out-in"},{default:$(()=>[t.value===0?(c(),d("div",Bs,[zs,Ws,Ys,Ps,n("div",js,[n("button",{class:"control",style:{"--accent":"var(--huge)"},onClick:m[0]||(m[0]=v=>t.value=1)},Fs),l(r)?(c(),d("button",{key:0,class:"control",style:{"--accent":"#3F3D56"},onClick:p},Vs)):T("",!0)])])):t.value===1?(c(),d("div",Xs,[Ks,Js,Zs,eo,to,so,n("button",{class:"next-button",style:{"--accent":"var(--huge)"},onClick:m[1]||(m[1]=v=>t.value=2)},no)])):t.value===2?(c(),d("div",ao,[io,ro,lo,co,uo,n("div",ho,[Ae(n("input",{class:"control",type:"text",placeholder:"Sign here...","onUpdate:modelValue":m[2]||(m[2]=v=>l(s).persistent.name=v)},null,512),[[Ge,l(s).persistent.name]]),n("button",{class:"control",style:{"--accent":"var(--huge)"},onClick:f},fo)])])):(c(),d("div",_o,[yo,n("div",mo,[n("img",{ref:(v,k)=>{k.leftCurtain=v},src:$e,style:W(`transform: translateX(${l(i).left});`)},null,4),n("img",{ref:(v,k)=>{k.rightCurtain=v},src:$e,style:W(`transform: translateX(${l(i).right}) scaleX(-1);`)},null,4)])]))]),_:1})],512)):T("",!0)]),_:1}))}});var vo=D(go,[["__scopeId","data-v-f8144068"]]);const u=o=>(U("data-v-151889c9"),o=o(),N(),o),bo={key:0,class:"letter hud-element overlay"},wo={class:"audit-content"},xo={key:0},ko=u(()=>n("h1",null,"Congratulations Notice",-1)),$o=u(()=>n("br",null,null,-1)),Ho=u(()=>n("br",null,null,-1)),To=h("Congratulations on reaching your quota! This achievement is due to your hard work, dedication and ingenuity. "),Eo=u(()=>n("br",null,null,-1)),Do=u(()=>n("br",null,null,-1)),So=h("This was achieved by a combination of our technology and your own determination. As a symbol of our gratitude "),Io=u(()=>n("b",null,"you will receive upgrades to your armor",-1)),Ao=h(". "),Go=u(()=>n("br",null,null,-1)),Oo=u(()=>n("br",null,null,-1)),Uo=h("Your next quota has been assigned! We look forward to seeing your continued progress. "),No=u(()=>n("br",null,null,-1)),qo=u(()=>n("br",null,null,-1)),Lo=u(()=>n("br",null,null,-1)),Co=h("Thanks, "),Mo=u(()=>n("br",null,null,-1)),Bo=u(()=>n("i",null,"The HUGE Board",-1)),zo={key:1},Wo=u(()=>n("h1",null,"Notice Of Audit",-1)),Yo=u(()=>n("br",null,null,-1)),Po=u(()=>n("br",null,null,-1)),jo=h("In order to uphold the contract we have agreed upon with your planet, we would like to remind you that your quota MUST be sent to us on time. "),Ro=u(()=>n("br",null,null,-1)),Fo=u(()=>n("br",null,null,-1)),Qo=h("To ensure that all our resources are met, we will be conducting an audit of your resources. This audit process will evaluated on "),Vo=h(". The duration of the audit will be "),Xo=h(". "),Ko=u(()=>n("br",null,null,-1)),Jo=u(()=>n("br",null,null,-1)),Zo=h("During the audit, we will monitor your planetary activity and make sure your resources are distributed appropriately. If this does not happen, we will have no choice but to revoke your planetary charter. "),en=u(()=>n("br",null,null,-1)),tn=u(()=>n("br",null,null,-1)),sn=h("If your audit is deemed a success, we will send your planet a congratulatory packet. However, if you do not abide by our terms, you will not receive the congratulations. "),on=u(()=>n("br",null,null,-1)),nn=u(()=>n("br",null,null,-1)),an=h("We hope you understand the importance of meeting your quotas. "),rn=u(()=>n("br",null,null,-1)),ln=u(()=>n("br",null,null,-1)),cn=u(()=>n("br",null,null,-1)),un=h("Thanks, "),dn=u(()=>n("br",null,null,-1)),hn=u(()=>n("i",null,"The HUGE Board",-1)),pn={key:2},fn=u(()=>n("h1",null,"Audit Failure Notice",-1)),_n=u(()=>n("br",null,null,-1)),yn=u(()=>n("br",null,null,-1)),mn=h("Your audit was conducted and reviewed by our highly efficient auditing staff. However, the auditors had a hard time determining the effectiveness of your efforts in reaching the quota we set for you. As a result, we have deemed that your quota has not yet been achieved. "),gn=u(()=>n("br",null,null,-1)),vn=u(()=>n("br",null,null,-1)),bn=h("As a LAST RESORT, we will offer a final audit to insure your progress. If your planet fail this audit too, we will have no choice but to revoke your charter and the colony. If your planet fails to reach the FINAL quota in the FINAL audit, we will be forced to revoke your charter. "),wn=u(()=>n("br",null,null,-1)),xn=u(()=>n("br",null,null,-1)),kn=u(()=>n("br",null,null,-1)),$n=u(()=>n("br",null,null,-1)),Hn=u(()=>n("br",null,null,-1)),Tn=h("Thanks, "),En=u(()=>n("br",null,null,-1)),Dn=u(()=>n("i",null,"The HUGE Board",-1)),Sn={key:3},In=u(()=>n("h1",null,"Termination Notice",-1)),An=h("Your charter and colony has been terminated. You are no longer welcome within the HUGE community. "),Gn=u(()=>n("br",null,null,-1)),On=h("Access to any of HUGE's services has been revoked. "),Un=u(()=>n("br",null,null,-1)),Nn=h("Your missing quotas have been transfered into debt. If you ever repay the debt we wil gladly offer another opportunity for your planet. "),qn=u(()=>n("br",null,null,-1)),Ln=u(()=>n("br",null,null,-1)),Cn=u(()=>n("b",{style:{color:"var(--huge)"}},"Good Luck",-1)),Mn=u(()=>n("br",null,null,-1)),Bn=u(()=>n("br",null,null,-1)),zn=u(()=>n("br",null,null,-1)),Wn=h("Thanks, "),Yn=u(()=>n("br",null,null,-1)),Pn=u(()=>n("i",null,"The HUGE Board",-1)),jn=[In,An,Gn,On,Un,Nn,qn,Ln,Cn,Mn,Bn,zn,Wn,Yn,Pn],Rn=u(()=>n("br",null,null,-1)),Fn={class:"new-quota"},Qn={class:"quota-info"},Vn={key:0},Xn={key:1},Kn=H({setup(o){function t(){s.interaction.quotaSuccess&&(s.persistent.maxHealth++,s.persistent.health=0+s.persistent.maxHealth),e.get("player")[0].allowMovement=!0,s.interaction.showLetter=!1}return(a,i)=>(c(),Y(E,{name:"fade"},{default:$(()=>[l(s).interaction.showLetter?(c(),d("section",bo,[n("div",wo,[l(s).interaction.quotaSuccess?(c(),d("section",xo,[ko,h(" Dear esteemed colonizer, "+_(l(s).persistent.name)+" ",1),$o,Ho,To,Eo,Do,So,Io,Ao,Go,Oo,Uo,No,qo,Lo,Co,Mo,Bo])):l(s).persistent.failures===1?(c(),d("section",zo,[Wo,h(" Dear esteemed colonizer, "+_(l(s).persistent.name)+" ",1),Yo,Po,jo,Ro,Fo,Qo,n("b",null,"Day "+_(l(s).persistent.quotaDay),1),Vo,n("b",null,_((l(s).persistent.quotaDay||0)-l(s).persistent.day)+" days",1),Xo,Ko,Jo,Zo,en,tn,sn,on,nn,an,rn,ln,cn,un,dn,hn])):l(s).persistent.failures===2?(c(),d("section",pn,[fn,h(" Dear colonizer, "+_(l(s).persistent.name)+" ",1),_n,yn,mn,gn,vn,bn,wn,xn,n("b",null," This will be the LAST audit you will receive. The Quota is due on Day "+_(l(s).persistent.quotaDay),1),kn,$n,Hn,Tn,En,Dn])):l(s).persistent.failures===3?(c(),d("section",Sn,jn)):T("",!0),Rn,n("section",Fn,[n("div",Qn,[l(s).persistent.failures<3?(c(),d("h1",Vn,"Your New Quota")):(c(),d("h1",Xn,"Your Debt")),(c(!0),d(I,null,q(Object.entries(l(s).persistent.quota),([r,p])=>(c(),d("p",null,[n("b",null,_(r)+":",1),h(" "+_(p),1)]))),256))]),n("div",{class:"accept-container"},[n("button",{onClick:t,style:{"--accent":"var(--huge)"}},"I understand")])])])])):T("",!0)]),_:1}))}});var Jn=D(Kn,[["__scopeId","data-v-151889c9"]]);const R=o=>(U("data-v-7b14ecd9"),o=o(),N(),o),Zn={key:0,class:"overlay huge-log-container"},ea=R(()=>n("span",{class:"iconify","data-icon":"ci:close-small"},null,-1)),ta=[ea],sa={class:"huge-log popup-view"},oa=R(()=>n("h1",null,[h(" HUGELog "),n("sup",null,"TM")],-1)),na=R(()=>n("hr",null,null,-1)),aa=R(()=>n("br",null,null,-1)),ia=R(()=>n("br",null,null,-1)),ra=h(" \u2014 HUGE Incorporated @ "),la=R(()=>n("div",{class:"entry"},[n("h2",null,"BREAKING NEWS: HUGENet detected disasters!"),n("q",null," We are unsure as to the effects of these 'disasters' right now, but it's up to you to defend and protect the colony. HugeNET will keep analyzing for the meantime. "),n("br"),n("br"),n("i",null,[h(" \u2014 HUGE Incorporated @ "),n("b",null,"Day 1, Hour 2")])],-1)),ca=H({setup(o){return(t,a)=>(c(),Y(E,{name:"fade"},{default:$(()=>[l(s).interaction.showLog?(c(),d("div",Zn,[n("button",{class:"close",onClick:a[0]||(a[0]=i=>{l(s).interaction.showLog=!1})},ta),n("div",sa,[oa,na,(c(!0),d(I,null,q(l(s).persistent.log,(i,r)=>(c(),d("div",{class:"entry",key:`${i.time.day}/${i.time.hour}/${r}`},[n("h2",null,_(i.title),1),n("q",null,_(i.description),1),aa,ia,n("i",null,[ra,n("b",null,"Day "+_(i.time.day)+", Hour "+_(i.time.hour)+",",1)])]))),128)),la])])):T("",!0)]),_:1}))}});var ua=D(ca,[["__scopeId","data-v-7b14ecd9"]]);const da=H({setup(o){return(t,a)=>(c(),d(I,null,[w(Jn),w(vo),w(Is),w(Ns),w(_t),w(ss),w(Lt),w(Kt),w(fs),w(ms),w(ua)],64))}});var ha=()=>["player",e.sprite("player"),e.pos(0,0),e.health(5),e.area({scale:.7}),e.z(10),e.stay(),e.scale(.2),e.solid(),pa(),e.origin("center")];function pa(){const o={},t=e.play("steps");t.loop(),t.pause(),t.speed(2);const a=e.play("steps_metal");a.loop(),a.pause(),a.speed(1.5);const i=(f,y)=>{y!=f.curAnim()&&f.play(y)},r=()=>{s.scene==="planet"?(t.play(),a.stop()):(a.play(),t.stop())},p={down:f=>{f.move(0,200),i(f,"walk"),r()},up:f=>{f.move(0,-200),i(f,"walk"),r()},left:f=>{f.move(-200,0),i(f,"walk"),r()},right:f=>{f.move(200,0),i(f,"walk"),r()}};return{id:"main_player",require:["area","pos","health"],allowMovement:!0,facing:null,isExtracting:!1,add(){const f=this;f.collides("shelter",(y,m)=>{!(m==null?void 0:m.isTop())||j("shelter")}),f.tool=e.add(["tool",e.sprite("axe"),e.pos(),e.stay(),e.z(10),e.origin("center"),e.area({scale:3}),e.follow(f,e.vec2(15,-15)),{update(){const y=we();if(!y){f.isExtracting=!1,this.opacity=0;return}this.use(e.sprite(y.spriteName));const m=e.mouseIsDown(),v=f.pos.angle(e.mouseWorldPos()),k=e.mousePos().x<window.innerWidth/2;this.flipY(!k),k?this.use(e.follow(f,e.vec2(-25,-10))):this.use(e.follow(f,e.vec2(25,-10))),m?this.angle+=k?-8:8:this.use(e.rotate(v)),f.isExtracting=m}}])},update(){if(e.camPos(this.pos),this.flipX(!(e.mousePos().x<window.innerWidth/2)),s.interaction.placingBuilding&&e.mouseIsClicked()){if(!s.interaction.placingBuilding)return;de(s.interaction.placingBuilding,e.mouseWorldPos())}if(!this.allowMovement||!e.focused())return;["w","a","s","d","right","up","down","left"].forEach(y=>o[y]=e.keyIsDown(y)),(o.d||o.right)&&p.right(this),(o.a||o.left)&&p.left(this),(o.w||o.up)&&p.up(this),(o.s||o.down)&&p.down(this),Object.values(o).every(y=>y===!1)&&(a.stop(),t.stop())},destroy(){this.tool.destroy()}}}e.loadSprite("player","sprites/player.png",{sliceX:2,anims:{walk:{from:0,to:1,speed:5}}});e.loadSprite("axe","sprites/axe.png");e.loadSound("steps_metal","audio/steps_metal.webm");e.loadSound("steps","audio/steps.webm");e.loadSound("death","audio/death.webm");e.loadSound("hurt","audio/hurt.webm");e.scene("planet",()=>{e.add([e.sprite("ground",{tiled:!0,width:2500,height:2e3})]);const o=e.get("player")[0];if(!o)e.add([...ha(),e.pos(1800,900)]);else{const t=s.persistent.map.buildings.find(a=>a.name==="shelter");if(!t)return;o.moveTo(t.pos.x,t.pos.y+200)}if(s.newGame){let t=e.get("player")[0];e.add([e.origin("center"),e.scale(.35),e.z(2),e.text("Use WASD or Arrow keys to move"),e.pos(t.pos.sub(0,250)),{update(){s.currentDiaster&&this.destroy()}}]),Q({title:"HUGE launches a new ambitious Planetary Grant Program",description:`HUGE has just introduced the largest ever funding program to date to fund the next great space exploration discovery and development projects.

We are extremely excited to announce the launch of a new ambitious funding program dedicated to enabling new space discovery and development by all.

\u201CHumanity has spent the last century conquering our planet. Now, we need to set our sights on our galaxy.\u201D

-Rohn G. Jockerfeller HUGE's CFO

As Earth becomes more crowded, space exploration becomes a more pressing concern for humanity. HUGE has just launched a new ambitious funding program dedicated to enabling new space exploration discovery and colony establishment.`}),P({type:"uranium",gives:"uranium",value:1,health:10},t.pos.add(500,250),"uranium_1"),e.add([e.origin("center"),e.scale(.35),e.z(5),e.text("Hold down the left mouse buton"),e.pos(t.pos.add(500,300)),{update(){s.currentDiaster&&this.destroy()}}]),e.add([e.origin("center"),e.scale(.35),e.z(5),e.text("to extract this resource"),e.pos(t.pos.add(500,350)),{update(){s.currentDiaster&&this.destroy()}}]),e.add([e.origin("center"),e.scale(.35),e.z(5),e.text("You can build buildings using"),e.pos(t.pos.add(200,650)),{update(){s.currentDiaster&&this.destroy()}}]),e.add([e.origin("center"),e.scale(.35),e.z(5),e.text("The buttons on the bottom of the screen"),e.pos(t.pos.add(200,700)),{update(){s.currentDiaster&&this.destroy()}}]),s.newGame=!1}else Fe();s.persistent.requestMap&&(Re(),s.persistent.requestMap=!1),ye(),e.add([e.rect(4e3,2),e.pos(0,-2),e.area(),e.opacity(0),e.solid()]),e.add([e.rect(4e3,2),e.pos(0,2e3-2),e.area(),e.opacity(0),e.solid()]),e.add([e.rect(2,2e3),e.pos(-2,0),e.area(),e.opacity(0),e.solid()]),e.add([e.rect(2,2e3),e.pos(3600,0),e.area(),e.opacity(0),e.solid()])});const oe=(o,t,a="png")=>{[...Array(t)].forEach((i,r)=>{e.loadSprite(`${o}_${r+1}`,`sprites/${o}_${r+1}.${a}`)})};e.loadSprite("ground","tiles/ground_large.png");oe("tree",2);oe("rock",4);oe("metal",4);oe("uranium",2);const B=["<====ddgdpdd===>","[--------------]","[--------------]","[--------------]","[--------------]","[--------------]","#.......2......^","        x       "];e.scene("shelter",()=>{e.get("player")[0].moveTo(275,120),e.addLevel(B,{width:32,height:32,g:()=>[e.pos(),e.area(),e.sprite("interior",{frame:43})],p:()=>[e.pos(),e.area(),e.sprite("interior",{frame:44})],d:()=>[e.pos(),e.area(),e.sprite("interior",{frame:42})],x:()=>[e.pos(),e.area(),e.z(-1),e.sprite("interior",{frame:57}),{add(){this.collides("player",()=>{j("planet")})}}],"2":()=>[e.z(-1),e.sprite("interior",{frame:36})],"^":()=>[e.z(-1),e.sprite("interior",{frame:35})],"#":()=>[e.z(-1),e.sprite("interior",{frame:33})],"]":()=>[e.z(-1),e.sprite("interior",{frame:21})],"[":()=>[e.z(-1),e.sprite("interior",{frame:19})],".":()=>[e.z(-1),e.sprite("interior",{frame:34})],"-":()=>[e.z(-1),e.sprite("interior",{frame:20})],"<":()=>[e.z(-1),e.sprite("interior",{frame:5})],"=":()=>[e.z(-1),e.sprite("interior",{frame:6})],">":()=>[e.z(-1),e.sprite("interior",{frame:7})]}),e.add([e.rect(B[0].length*32,2),e.pos(0,-2),e.area(),e.opacity(0),e.solid()]),e.add([e.rect(B[0].length*32,2),e.pos(0,B.length*32-31),e.area(),e.opacity(0),e.solid()]),e.add([e.rect(2,B.length*32),e.pos(-2,0),e.area(),e.opacity(0),e.solid()]),e.add([e.rect(2,B.length*32),e.pos(B[0].length*32+2,0),e.area(),e.opacity(0),e.solid()]),e.add([e.sprite("bed"),e.pos(25,80),e.area(),{update(){const t=e.get("player")[0];s.interaction.nextToBed=this.isColliding(t)}}]),ye(),e.play("door"),s.persistent.oxygen--});e.loadSprite("interior","tiles/in.png",{sliceX:14,sliceY:6});e.loadSprite("bed","sprites/bed.png");e.loadSound("door","audio/door.webm");e.scene("death",()=>{e.play("death");const o=e.get("player")[0];!o||(s.currentDiaster=null,e.add([e.color(0,0,0),e.rect(2e3,2e3),{scale:1,update(){this.scale+=.001,e.camScale(e.vec2(this.scale,this.scale))}}]),o.use(e.pos(1e3,1e3)),o.use(e.opacity(0)),o.tool.use(e.opacity(0)),o.allowMovement=!1,e.add([e.sprite("player"),e.scale(.2),e.pos(1e3,1e3),e.origin("center")]),e.add([e.stay(),{audio:null,update(){s.scene!=="death"&&(this.audio&&this.audio.stop(),this.destroy())}}]))});e.scene("onboarding",()=>{});try{window.localStorage.length}catch{alert("Hi, please open this page in a NEW tab or window. This game requires the use of localStorage to function. Unfortunately, embedded storage windows are not supported.")}e.canvas.addEventListener("blur",()=>{["w","a","s","d","ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].forEach(t=>{e.canvas.dispatchEvent(new KeyboardEvent("keyup",{key:t}))})});const fa=Oe(da);fa.mount("#app");
